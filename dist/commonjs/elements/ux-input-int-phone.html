<template>
  <require from="./ux-input-int-phone.css"></require>

  <ux-select theme.bind="uxSelectTheme" value.two-way="countryCode" view-model.ref="uxSelect" ref="selectElement" if.bind="!disabled">
    <ux-option repeat.for="country of countries" text="${'country.' + country.name |Â t} (${getCountryPrefix(country.countryCode2)})" value.bind="country.countryCode2"></ux-option>
  </ux-select>
  
  <span class="phone-exemple" css="width:${selectElement.offsetWidth}px" if.bind="!disabled">${phonePlaceholder}</span>

  <ux-input class="hide-label-when-not-empty" theme.bind="uxInputTheme" value.bind="inputValue" label="${label}" view-model.ref="uxInput" disabled.bind="disabled" autocomplete.bind="autocomplete">
    <ux-icon slot="leading-icon" icon="phone"></ux-icon>
    <span slot="leading-icon" class="country-prefix">${countryPrefix}</span>
  </ux-input>

  <style>
    ux-input-int-phone .ux-select__list-wrapper {
      /* csslint ignore:start */
      min-width: ${selectElement.offsetWidth}px;
      /* csslint ignore:end */
    }
  </style>
</template>
